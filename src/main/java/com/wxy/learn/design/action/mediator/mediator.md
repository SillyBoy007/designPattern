### 什么是中介者模式?
中介者模式（Mediator Pattern）是用来降低多个对象和类之间的通信复杂性。
这种模式提供了一个中介类，该类通常处理不同类之间的通信，并支持松耦合，使代码易于维护。中介者模式属于行为型模式。

* 意图：用一个中介对象来封装一系列的对象交互，中介者使各对象不需要显式地相互引用，从而使其耦合松散，而且可以独立地改变它们之间的交互。
* 主要解决：对象与对象之间存在大量的关联关系，这样势必会导致系统的结构变得很复杂，同时若一个对象发生改变，我们也需要跟踪与之相关联的对象，同时做出相应的处理。
* 何时使用：多个类相互耦合，形成了网状结构。
* 如何解决：将上述网状结构分离为星型结构。
* 关键代码：对象 Colleague 之间的通信封装到一个类中单独处理。
* 应用实例： 
  * 1、中国加入 WTO 之前是各个国家相互贸易，结构复杂，现在是各个国家通过 WTO 来互相贸易。
  * 2、机场调度系统。 
  * 3、MVC 框架，其中C（控制器）就是 M（模型）和 V（视图）的中介者。
* 使用场景： 1、系统中对象之间存在比较复杂的引用关系，导致它们之间的依赖关系结构混乱而且难以复用该对象。 2、想通过一个中间类来封装多个类中的行为，而又不想生成太多的子类。
* 注意事项：不应当在职责混乱的时候使用。

### 中介者模式角色
* 抽象中介者：定义好同事类对象到中介者对象的接口，用于各个同事类之间的通信。一般包括一个或几个抽象的事件方法，并由子类去实现。
* 中介者实现类：从抽象中介者继承而来，实现抽象中介者中定义的事件方法。从一个同事类接收消息，然后通过消息影响其他同时类。
* 同事类：如果一个对象会影响其他的对象，同时也会被其他对象影响，那么这两个对象称为同事类。
在类图中，同事类只有一个，这其实是现实的省略，在实际应用中，同事类一般由多个组成，他们之间相互影响，相互依赖。
同事类越多，关系越复杂。并且，同事类也可以表现为继承了同一个抽象类的一组实现组成。
在中介者模式中，同事类之间必须通过中介者才能进行消息传递。

### 中介者模式优缺点
* 优点： 
  * 降低了类的复杂度，将一对多转化成了一对一。 
  * 各个类之间的解耦。 
  * 符合迪米特原则。
  * 适当地使用中介者模式可以避免同事类之间的过度耦合，使得各同事类之间可以相对独立地使用。
  * 使用中介者模式可以将对象间一对多的关联转变为一对一的关联，使对象间的关系易于理解和维护。
  * 使用中介者模式可以将对象的行为和协作进行抽象，能够比较灵活的处理对象间的相互作用。
* 缺点：中介者会庞大，变得复杂难以维护。

### 中介者模式应用场景
在面向对象编程中，一个类必然会与其他的类发生依赖关系，完全独立的类是没有意义的。
一个类同时依赖多个类的情况也相当普遍，既然存在这样的情况，说明，一对多的依赖关系有它的合理性，适当的使用中介者模式可以使原本凌乱的对象关系清晰，
但是如果滥用，则可能会带来反的效果。一般来说，只有对于那种同事类之间是网状结构的关系，才会考虑使用中介者模式。
可以将网状结构变为星状结构，使同事类之间的关系变的清晰一些。
中介者模式是一种比较常用的模式，也是一种比较容易被滥用的模式。
对于大多数的情况，同事类之间的关系不会复杂到混乱不堪的网状结构，因此，大多数情况下，将对象间的依赖关系封装的同事类内部就可以的，
没有必要非引入中介者模式。滥用中介者模式，只会让事情变的更复杂。

### 中介者模式理解
* 使用中介者模式可以将对象间一对多的关联转变为一对一的关联，使对象间的关系易于理解和维护。
* 降低了类的复杂度，将一对多转化成了一对一,各个类之间的解耦。 
* 符合迪米特原则。
* 不应当在职责混乱的时候使用。
* 中介者会庞大，变得复杂难以维护。

### 参考链接
[中介者模式简介](https://www.runoob.com/design-pattern/mediator-pattern.html)
[23种设计模式：中介者模式](https://blog.csdn.net/zhengzhb/article/details/7430098)
 
 
 
 
 
 
 
